<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Subversion Rando</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script src='index.js'></script>
</head>
<body>
    <div>
        <label for="rom">original Super Metroid rom or Subversion 1.2 rom</label>
        <input type="file" id="rom" name="rom" accept=".sfc, .smc" />
    </div>
    <div>
        <ul>
            <li>
            The logic assumes you pick up everything you can from the space port before falling from the space port.
            <br>
            So if you don't pick up everything you can before you free fall, you might be stuck.
            </li>
            <li>Turning the power off is never in logic, unless you can turn it back on before you leave the Geothermal Energy Plant.</li>
            <li>
            All the logic is symmetrical. This means getting out is required to go in.
            <br>
            For example, Speed Booster cannot be at the vanilla Speed Booster location, because it requires Speed Booster to get out.
            <br>
            If you can't get out of a location, you shouldn't go in, because you might be soft-locked.
            </li>
        </ul>
    </div>
    <div>
        <span>logic presets:</span>
        <span id="preset-buttons"></span>
    </div>
    <div>
        <div>
            <button id="collapse-control">customize logic</button>
            <button id="logic-str-btn" style="margin-left: 30px;">get custom logic string</button>
            <span id="logic-str-out" style="margin-left: 30px;"></span>
        </div>
        <div id="trick-container" style="box-shadow:inset 2px 4px 14px #555;">
            <table id="tricks"></table>
        </div> 
    </div>
    <div>
        <label for="fill">fill:</label>

        <select name="fill" id="fill">
            <option value="D" selected="selected">full random</option>
            <option value="B">major/minor bias</option>
            <option value="MM">major/minor</option>
        </select> 
    </div>
    <div>
        <input type="checkbox" id="area-rando"/>
        <label for="area-rando">area rando</label>
        <input type="checkbox" id="small-spaceport" checked="true"/>
        <label for="small-spaceport">small spaceport</label>
        <input type="checkbox" id="escape-shortcuts"/>
        <label for="escape-shortcuts">escape shortcuts</label>
    </div>
    <div>
        <input type="checkbox" id="daphne-gate"/>
        <label for="daphne-gate">randomize wrecked daphne gate</label>
    </div>
    <div>
        <label for="cypher">Thunder Laboratory has:</label>

        <select name="cypher" id="cypher">
            <option value="Anything">Anything</option>
            <option value="NotRequired" selected="selected">Something not required</option>
            <option value="SmallAmmo">Small Ammo Tanks</option>
        </select> 
    </div>
    <div>
        <label for="objective-rando">randomized objectives</label>
        <input type="number" id="objective-rando" value="0" style="width: 100px;"/>
    </div>
    <div>
        <input type="checkbox" id="skip-crash-space-port"/>
        <label for="skip-crash-space-port">skip crash space port</label>
    </div>

    <div>
        <button id="roll-button">roll</button><br /><span>Generation can take up to 90 seconds, and your browser might stop responding.</span>
    </div>
    <div id="status"></div>
    <py-config>
        terminal = true
        docked = false
        [[fetch]]
        from = "./src"
        files = [
            "subversion_rando/__init__.py",
            "subversion_rando/areaRando.py",
            "subversion_rando/connection_data.py",
            "subversion_rando/daphne_gate.py",
            "subversion_rando/daphne_gate_types.py",
            "subversion_rando/door_logic.py",
            "subversion_rando/fillAssumed.py",
            "subversion_rando/fillForward.py",
            "subversion_rando/fillMajorMinor.py",
            "subversion_rando/fillMedium.py",
            "subversion_rando/fillInterface.py",
            "subversion_rando/fillSpeedrun.py",
            "subversion_rando/item_data.py",
            "subversion_rando/game.py",
            "subversion_rando/goal.py",
            "subversion_rando/goals.py",
            "subversion_rando/hints.py",
            "subversion_rando/ips.py",
            "subversion_rando/loadout.py",
            "subversion_rando/location_data.py",
            "subversion_rando/location_weights.py",
            "subversion_rando/logicCommon.py",
            "subversion_rando/logicInterface.py",
            "subversion_rando/logic_area.py",
            "subversion_rando/logic_area_shortcuts.py",
            "subversion_rando/logic_locations.py",
            "subversion_rando/logic_presets.py",
            "subversion_rando/logic_shortcut.py",
            "subversion_rando/logic_shortcut_data.py",
            "subversion_rando/logic_updater.py",
            "subversion_rando/main_generation.py",
            "subversion_rando/new_terrain_writer.py",
            "subversion_rando/objective_rando.ips",
            "subversion_rando/romWriter.py",
            "subversion_rando/solver.py",
            "subversion_rando/spaceport_door_data.py",
            "subversion_rando/subversiondata12.csv",
            "subversion_rando/subversion.1.2.ips",
            "subversion_rando/terrain_patch.py",
            "subversion_rando/trick.py",
            "subversion_rando/trick_data.py"
        ]
    </py-config>
    <py-script src="./src/index.py"></py-script>
</body>
</html>
